"use strict"

const controlRoom = require("./control_room")

module.exports = {
  "title": "...",
  "description": "L'écran a à peine affiché 100% que la porte d'entrée s'ouvre. Vous l'entendez avant de le voir. Dark Vador est là, devant vous, sabre laser armé. L'effroi vous envahit. Tout est perdu. A moins que vous ne connaissiez bien vos méthodes HTTP.",
  "locationAfterDelete": "control_room",
  "hook": hook
}

function hook(app, uriTemaplte, place) {
  app.delete(uriTemaplte, function(request, response) {
    response.status(204).location(place.locationAfterDelete).send()
    place.deleted = true
    controlRoom.links[0].hidden = true
    controlRoom.links[2].hidden = true
    controlRoom.links[3].hidden = true
    controlRoom.links[4].hidden = false
  })
}
